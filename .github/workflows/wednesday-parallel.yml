name: Wednesday Parallel Tasks

on:
  schedule:
    # æ¯å‘¨ä¸‰ UTC 4:00ï¼ˆåŒ—äº¬æ—¶é—´å‘¨ä¸‰12:00ï¼‰æ‰§è¡Œ
    - cron: '0 4 * * 3'
  
  # å…è®¸æ‰‹åŠ¨è§¦å‘æµ‹è¯•
  workflow_dispatch:

jobs:
  # ä»»åŠ¡1ï¼šè¿è¡ŒWednesday_1.py
  task-1:
    name: "ä»»åŠ¡1 - Wednesday_1"
    runs-on: ubuntu-latest
    timeout-minutes: 15
    
    steps:
    - name: ä¸‹è½½ä»£ç 
      uses: actions/checkout@v3
      
    - name: è®¾ç½®Pythonç¯å¢ƒ
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'
        
    - name: å®‰è£…ä¾èµ–
      run: |
        pip install -r requirements.txt
        
    - name: è¿è¡ŒWednesday_1.py
      run: |
        echo "ğŸš€ å¼€å§‹æ‰§è¡ŒWednesday_1.py"
        python Wednesday_1.py
        
    - name: ä¸Šä¼ ç»“æœ
      if: always()
      uses: actions/upload-artifact@v3
      with:
        name: wednesday-1-results
        path: |
          auto_fill.log
          *.png
        retention-days: 7

  # ä»»åŠ¡2ï¼šè¿è¡ŒWednesday_2.py
  task-2:
    name: "ä»»åŠ¡2 - Wednesday_2"
    runs-on: ubuntu-latest
    timeout-minutes: 15
    
    steps:
    - name: ä¸‹è½½ä»£ç 
      uses: actions/checkout@v3
      
    - name: è®¾ç½®Pythonç¯å¢ƒ
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'
        
    - name: å®‰è£…ä¾èµ–
      run: |
        pip install -r requirements.txt
        
    - name: è¿è¡ŒWednesday_2.py
      run: |
        echo "ğŸš€ å¼€å§‹æ‰§è¡ŒWednesday_2.py"
        python Wednesday_2.py
        
    - name: ä¸Šä¼ ç»“æœ
      if: always()
      uses: actions/upload-artifact@v3
      with:
        name: wednesday-2-results
        path: |
          auto_fill_task2.log  # æ³¨æ„ï¼šä½ çš„Wednesday_2.pyå¯èƒ½ç”¨ä¸åŒæ—¥å¿—å
          *.png
        retention-days: 7
